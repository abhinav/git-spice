# 'gs branch checkout' prompt shows the change ID in the branch tree select widget

as 'Test <test@example.com>'
at '2024-08-07T06:05:04Z'

mkdir repo
cd repo
git init
git commit --allow-empty -m 'Initial commit'

# set up a fake remote
shamhub init
shamhub register alice
shamhub new origin alice/example.git
git push origin main

env SHAMHUB_USERNAME=alice
gs auth login

gs repo init

# create a simple stack: feat_a -> feat_b
gs bc feat_a -m 'feat_a'
gs bc feat_b -m 'feat_b'

# submit the bottom-most branch
gs bottom
gs branch submit --fill
gs branch checkout feat_b

env ROBOT_INPUT=$WORK/robot.golden ROBOT_OUTPUT=$WORK/robot.actual

gs branch checkout

git branch --show-current
cmpenv stdout $WORK/golden/after-switch-to-feat-a.txt

cmp $WORK/robot.actual $WORK/robot.golden

-- robot.golden --
===
> Select a branch to checkout: 
>   ┏━■ feat_b ◀
> ┏━┻□ feat_a (#1)
> main
"feat_a"

-- golden/after-switch-to-feat-a.txt --
feat_a
-- golden/bco-tree.txt --
